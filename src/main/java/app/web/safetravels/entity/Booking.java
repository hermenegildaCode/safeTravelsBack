package app.web.safetravels.entity;

import java.sql.Date;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.Table;

import org.springframework.format.annotation.DateTimeFormat;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.Getter;
import lombok.NoArgsConstructor;
import lombok.Setter;
@Data
@AllArgsConstructor
@NoArgsConstructor
@Entity
@Table(name="booking")

public class Booking {
	@Id
	@GeneratedValue(strategy = GenerationType.AUTO)
	private int bookingId;
	@Getter
	@Setter
	@Column(name="b_username", unique=true)
	private String username;
	@Column(name="hotelId")
	private int hotelId;
	@Getter
	@Setter
	@Column(name="roomId")
	private int roomId;
//	@DateTimeFormat(pattern="yyyy-mm-dd")
	@DateTimeFormat(pattern="dd/MM/yyyy")
	@Column(name="checkinDate")
	private Date checkinDate;
	@DateTimeFormat(pattern="dd/MM/yyyy")
	@Column(name="checkoutDate")
	private Date checkoutDate;
	private boolean cancelled;
	private boolean breakfastIncluded;
	@Getter
	@Setter
	private boolean freecancellation;
	@Getter
	@Setter
	private double price;
	@Getter
	@Setter
	private String review;
	@Getter
	@Setter
	private short rating;
	
	
//	/** Constructor without review and rating, which will be created later*/
//	public Booking(int bookingId, String username, int hotelId, int roomId, Date checkinDate, Date checkoutDate,
//			boolean breakfastIncluded) {
//		super();
//		this.bookingId = bookingId;
//		this.username = username;
//		this.roomId = roomId;
//		this.hotelId = hotelId;
//		this.checkinDate = checkinDate;
//		this.checkoutDate = checkoutDate;
//		this.breakfastIncluded = breakfastIncluded;
//	}
//	
	/** Constructor without review and rating, which will be created later. It doesn't have a bookingId either because this one should be autogenerated.*/
	public Booking(String username, int hotelId, int roomId, Date checkinDate, Date checkoutDate,
			boolean breakfastIncluded) {
		this.username = username;
		this.roomId = roomId;
		this.hotelId = hotelId;
		this.checkinDate = checkinDate;
		this.checkoutDate = checkoutDate;
		this.breakfastIncluded = breakfastIncluded;
	}
	
	/** I need a basic constructor with the price as well, 
	 * so that it doesn't become such a bother to retrieve the roomPrice data.*/
	public Booking(String username, int hotelId, int roomId, Date checkinDate, Date checkoutDate,
			boolean breakfastIncluded, double price) {
		this.username = username;
		this.roomId = roomId;
		this.hotelId = hotelId;
		this.checkinDate = checkinDate;
		this.checkoutDate = checkoutDate;
		this.breakfastIncluded = breakfastIncluded;
		this.price = price;
	}


	public int getBookingId() {
		return bookingId;
	}
	public void setBookingId(int bookingId) {
		this.bookingId = bookingId;
	}

	public int getHotelId() {
		return hotelId;
	}
	public void setHotelId(int hotelId) {
		this.hotelId = hotelId;
	}
	public Date getCheckinDate() {
		return checkinDate;
	}
	public void setCheckinDate(Date checkinDate) {
		this.checkinDate = checkinDate;
	}
	public Date getCheckoutDate() {
		return checkoutDate;
	}
	public void setCheckoutDate(Date checkoutDate) {
		this.checkoutDate = checkoutDate;
	}
	public boolean isCancelled() {
		return cancelled;
	}
	
//	public Hotel getHotelByBooking(Booking booking){
//		Hotel hotel = hotel.getHotelById(booking.getHotelId());
//		return 
//	}
	public void setCancelled(boolean cancelled) {
		this.cancelled = cancelled;
	}
	public boolean isBreakfastIncluded() {
		return breakfastIncluded;
	}
	public void setBreakfastIncluded(boolean breakfastIncluded) {
		this.breakfastIncluded = breakfastIncluded;
	}
	
	
}
